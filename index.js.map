{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = \"48505401-41d9a45057075903c793c7a55\"; \nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport function fetchImages(query) {\n  \n  const url = `${BASE_URL}?key=${API_KEY}&q=${encodeURIComponent(\n    query\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(\"Failed to fetch images\");\n      }\n      return response.json(); \n    })\n    .then((data) => {\n      if (data.hits.length === 0) {\n        throw new Error(\"No images found\"); \n      }\n      return data.hits; \n    });\n}\n","\n\n\n  import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nlet lightbox; \n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.card-list'); \n\n  \n  gallery.innerHTML = images\n    .map(\n      (image) => `\n      <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n        <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n        <div class=\"info\">\n          <p><strong>Likes:</strong> ${image.likes}</p>\n          <p><strong>Views:</strong> ${image.views}</p>\n          <p><strong>Comments:</strong> ${image.comments}</p>\n          <p><strong>Downloads:</strong> ${image.downloads}</p>\n        </div>\n      </a>\n    `\n    )\n    .join('');\n\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery-item', {\n      captions: true, \n      captionsData: 'alt', \n      captionDelay: 250, \n    });\n  }\n}\n\n\nexport function clearGallery() {\n  document.querySelector('.card-list').innerHTML = '';\n}","import { fetchImages } from \"./js/pixabay-api.js\";\nimport { renderGallery, clearGallery } from \"./js/render-functions.js\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".search-form\");\nconst gallery = document.querySelector(\".card-list\");\n\n\nconst loader = document.createElement(\"p\");\nloader.textContent = \"Loading...\";\nloader.style.display = \"none\";\nloader.style.fontSize = \"16px\";\nloader.style.fontWeight = \"bold\";\nloader.style.textAlign = \"center\";\nloader.style.marginTop = \"10px\";\n\n\nform.insertAdjacentElement(\"afterend\", loader)\n\nform.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n\n  const query = event.target.elements.query.value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      title: \"Warning\",\n      message: \"Please enter a search query!\",\n    });\n    return;\n  }\n\n  clearGallery();\n  loader.style.display = \"block\"; \n\n  fetchImages(query)\n    .then((images) => {\n      if (images.length === 0) {\n        iziToast.error({\n          title: \"Error\",\n          message: \"Sorry, no images found! Please try again.\",\n        });\n        return;\n      }\n      renderGallery(images, gallery);\n    })\n    .catch(() => {\n      iziToast.error({\n        title: \"Error\",\n        message: \"An error occurred while fetching images. Please try again!\",\n      });\n    })\n    .finally(() => {\n      loader.style.display = \"none\"; // Ховаємо \"Loading...\"\n    });\n});\n\n"],"names":["API_KEY","BASE_URL","fetchImages","query","url","response","data","lightbox","renderGallery","images","gallery","image","SimpleLightbox","clearGallery","form","loader","event","iziToast"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAO,CAEjC,MAAMC,EAAM,GAAGH,CAAQ,QAAQD,CAAO,MAAM,mBAC1CG,CACD,CAAA,2DAED,OAAO,MAAMC,CAAG,EACb,KAAMC,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAE1C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAMC,GAAS,CACd,GAAIA,EAAK,KAAK,SAAW,EACvB,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAOA,EAAK,IAClB,CAAK,CACL,CChBA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,YAAY,EAGnDA,EAAQ,UAAYD,EACjB,IACEE,GAAU;AAAA,iBACAA,EAAM,aAAa;AAAA,oBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,uCAEnBA,EAAM,KAAK;AAAA,uCACXA,EAAM,KAAK;AAAA,0CACRA,EAAM,QAAQ;AAAA,2CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAIrD,EACA,KAAK,EAAE,EAGNJ,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIK,EAAe,gBAAiB,CAC7C,SAAU,GACV,aAAc,MACd,aAAc,GACpB,CAAK,CAEL,CAGO,SAASC,GAAe,CAC7B,SAAS,cAAc,YAAY,EAAE,UAAY,EACnD,CCtCA,MAAMC,EAAO,SAAS,cAAc,cAAc,EAClC,SAAS,cAAc,YAAY,EAGnD,MAAMC,EAAS,SAAS,cAAc,GAAG,EACzCA,EAAO,YAAc,aACrBA,EAAO,MAAM,QAAU,OACvBA,EAAO,MAAM,SAAW,OACxBA,EAAO,MAAM,WAAa,OAC1BA,EAAO,MAAM,UAAY,SACzBA,EAAO,MAAM,UAAY,OAGzBD,EAAK,sBAAsB,WAAYC,CAAM,EAE7CD,EAAK,iBAAiB,SAAWE,GAAU,CACzCA,EAAM,eAAc,EAEpB,MAAMb,EAAQa,EAAM,OAAO,SAAS,MAAM,MAAM,OAEhD,GAAI,CAACb,EAAO,CACVc,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,8BACf,CAAK,EACD,MACD,CAEDJ,IACAE,EAAO,MAAM,QAAU,QAEvBb,EAAYC,CAAK,EACd,KAAMM,GAAW,CAChB,GAAIA,EAAO,SAAW,EAAG,CACvBQ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,2CACnB,CAAS,EACD,MACD,CACDT,EAAcC,CAAe,CACnC,CAAK,EACA,MAAM,IAAM,CACXQ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4DACjB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbF,EAAO,MAAM,QAAU,MAC7B,CAAK,CACL,CAAC"}